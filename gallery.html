<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />
  <title>Photos â€¢ Godâ€™s Country March</title>

  <link rel="canonical" href="https://godscountrymarch.com/gallery.html" />
  <meta name="description" content="Photo gallery from the Godâ€™s Country March." />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Background asset (optional) -->
  <link rel="preload" as="image" href="BoiseCrossandCapital.jpeg" />

  <style>
    html { scroll-behavior: smooth; }
    section[id] { scroll-margin-top: 96px; }
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #1a202c, #2d3748);
      color: #fff;
    }
    header { padding-top: env(safe-area-inset-top); }
    .nav-words a { text-decoration: none; }
    .nav-words a:hover { text-decoration: underline; }
    @media (prefers-reduced-motion: reduce){ *{animation:none!important;transition:none!important;} }
  </style>

  <!-- Optional: Vercel Analytics -->
  <script defer src="/_vercel/insights/script.js"></script>
  <script defer src="/_vercel/speed-insights/script.js"></script>
</head>
<body class="text-white">

  <!-- top nav -->
    <header class="fixed top-0 inset-x-0 z-50">
      <div class="mx-auto max-w-7xl px-4">
        <div class="mt-3 mb-2 flex justify-center">
          <nav class="w-full rounded-2xl bg-black/70 backdrop-blur text-white shadow ring-1 ring-white/10
                      px-3 sm:px-4 py-2 flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-[13px] sm:text-sm">
            <a href="index.html" class="hover:text-amber-400 underline">Godâ€™s Country March</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="mission.html" class="hover:text-amber-400">Mission &amp; Vision</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="sponsors.html" class="hover:text-amber-400">Sponsors &amp; Supporters</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="gallery.html" class="hover:text-amber-400">Photos</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="blog.html" class="hover:text-amber-400">Blog</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="volunteer.html" class="hover:text-amber-400">Volunteer</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="merch.html" class="hover:text-amber-400">Merch</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="https://donorbox.org/2025-gods-country-march" target="_blank" rel="noopener" class="hover:text-amber-400">Donate</a>
            <span class="hidden sm:inline opacity-40">â€¢</span>
            <a href="index.html#rsvp" class="hover:text-amber-400">RSVP</a>
          </nav>
        </div>
      </div>
    </header>
    <div class="h-20"></div>

  <!-- HERO -->
  <section class="relative isolate overflow-hidden">
    <div class="absolute inset-0 -z-10 bg-center bg-cover"
         style="background-image:url('BoiseCrossandCapital.jpeg'); background-position:50% 35%;"></div>
    <div class="absolute inset-0 -z-10 bg-black/40"></div>

    <div class="mx-auto max-w-7xl px-4 py-16 text-center">
      <h1 class="text-4xl sm:text-5xl font-extrabold drop-shadow">Photos</h1>
      <p class="mt-4 text-lg sm:text-xl max-w-3xl mx-auto text-white/90">
        Moments from the Godâ€™s Country March. Click any photo to view it larger.
      </p>
    </div>
  </section>

  <!-- GALLERY -->
  <section id="gallery-section" class="mx-auto max-w-7xl px-4 pb-16">
    <!-- Controls (Tip removed) -->
    <div class="mb-4 flex items-center justify-end gap-2 text-xs sm:text-sm">
      <span class="opacity-80">Sort:</span>
      <button data-sort="new" class="sort-btn rounded-lg px-3 py-1.5 bg-black/60 ring-1 ring-white/10 hover:bg-black/70">Newest</button>
      <button data-sort="old" class="sort-btn rounded-lg px-3 py-1.5 bg-black/30 ring-1 ring-white/10 hover:bg-black/40">Oldest</button>
    </div>

    <!-- Grid -->
    <div id="gallery"
         class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
      <!-- JS will render items here -->
    </div>
  </section>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="hidden fixed inset-0 z-50 bg-black/90 items-center justify-center p-4">
    <button id="lbClose" class="absolute top-4 right-4 rounded-lg px-3 py-1.5 bg-white/10 text-white ring-1 ring-white/30 hover:bg-white/20">
      Close âœ•
    </button>
    <button id="lbPrev" class="absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 rounded-full px-4 py-2 bg-white/10 text-white ring-1 ring-white/30 hover:bg-white/20">
      â€¹
    </button>
    <figure class="max-w-[95vw] max-h-[85vh] text-center">
      <img id="lbImg" alt="" class="max-h-[75vh] max-w-[95vw] object-contain mx-auto" />
      <figcaption id="lbCap" class="mt-3 text-white/80 text-sm"></figcaption>
    </figure>
    <button id="lbNext" class="absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 rounded-full px-4 py-2 bg-white/10 text-white ring-1 ring-white/30 hover:bg-white/20">
      â€º
    </button>
  </div>

  <!-- FOOTER -->
  <footer class="bg-black">
    <div class="mx-auto max-w-7xl px-4 py-10 text-white/80 text-center space-y-2">
      <p>Â© <span id="y"></span> Godâ€™s Country March â€¢ <a href="index.html#donate" class="underline">Support the March</a></p>
      <p>Questions? <a class="underline" href="mailto:GodsCountryMarch@gmail.com">GodsCountryMarch@gmail.com</a></p>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // =========================
    // ðŸ“¸ EASY-EDIT PHOTO LIST
    // =========================
    // Put image files in /photos/ (or change basePath).
    // Add new photos by appending to PHOTOS below.
    // You can use:
    //   "filename.jpg"
    // or
    //   { src: "filename.jpg", alt: "Alt text", caption: "Optional caption", date: "YYYY-MM-DD" }
    //
    // NOTE: 'date' is optional and only used for sorting.
    const basePath = "photos/"; // change to "" if your photos live next to this file

    const PHOTOS = [
      // Add your images here, e.g.:
      // "IMG_0001.jpg",
      // { src: "IMG_0002.jpg", alt: "Crowd at the steps", caption: "On the Capitol steps", date: "2025-10-14" },
      // "IMG_0003.jpg",
    ];

    // Render gallery
    const galleryEl = document.getElementById('gallery');
    const sortBtns = document.querySelectorAll('.sort-btn');
    let currentSort = 'new';
    let items = [];

    function normalizeList(list) {
      return list.map((p, i) => {
        if (typeof p === 'string') return { src: p, alt: filenameToAlt(p), caption: '', date: '' };
        return {
          src: p.src,
          alt: p.alt || filenameToAlt(p.src),
          caption: p.caption || '',
          date: p.date || '',
          _index: i
        };
      });
    }

    function filenameToAlt(f) {
      try {
        const name = f.split('/').pop().split('.').slice(0,-1).join('.');
        return name.replace(/[-_]/g, ' ').replace(/\s+/g, ' ').trim();
      } catch { return ''; }
    }

    function sortItems(arr, mode) {
      const copy = [...arr];
      if (mode === 'new') {
        copy.sort((a,b) => (b.date||'') > (a.date||'') ? 1 : -1);
      } else {
        copy.sort((a,b) => (a.date||'') > (b.date||'') ? 1 : -1);
      }
      return copy;
    }

    function render() {
      galleryEl.innerHTML = '';
      items.forEach((p, idx) => {
        // Card with fixed aspect ratio (3:2)
        const card = document.createElement('figure');
        card.className = "group relative bg-black/30 ring-1 ring-white/10 rounded-xl overflow-hidden shadow hover:shadow-lg hover:-translate-y-0.5 transition";

        // aspect ratio box
        const box = document.createElement('div');
        box.className = "relative pt-[66%]"; // 3:2 ratio
        const img = document.createElement('img');
        img.loading = "lazy";
        img.decoding = "async";
        img.alt = p.alt || "";
        img.src = basePath + p.src;
        img.className = "absolute inset-0 h-full w-full object-cover";
        img.addEventListener('click', () => openLightbox(idx));
        box.appendChild(img);

        const cap = document.createElement('figcaption');
        cap.className = "flex items-center justify-between px-3 py-2 text-xs text-white/80";
        cap.innerHTML = `
          <span class="truncate">${p.caption || p.alt || '&nbsp;'}</span>
          <button class="rounded-lg px-2 py-1 bg-white/10 ring-1 ring-white/20 hover:bg-white/20">View</button>
        `;
        cap.querySelector('button').addEventListener('click', () => openLightbox(idx));

        card.appendChild(box);
        card.appendChild(cap);
        galleryEl.appendChild(card);
      });
    }

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbCap = document.getElementById('lbCap');
    const lbClose = document.getElementById('lbClose');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');
    let lbIndex = 0;

    function openLightbox(i) {
      lbIndex = i;
      const p = items[lbIndex];
      lbImg.src = basePath + p.src;
      lbImg.alt = p.alt || "";
      lbCap.textContent = p.caption || p.alt || "";
      lb.classList.remove('hidden');
      lb.classList.add('flex');
      document.body.style.overflow = 'hidden';
    }
    function closeLightbox() {
      lb.classList.add('hidden');
      lb.classList.remove('flex');
      document.body.style.overflow = '';
      lbImg.src = '';
    }
    function showPrev() {
      lbIndex = (lbIndex - 1 + items.length) % items.length;
      openLightbox(lbIndex);
    }
    function showNext() {
      lbIndex = (lbIndex + 1) % items.length;
      openLightbox(lbIndex);
    }

    lbClose.addEventListener('click', closeLightbox);
    lbPrev.addEventListener('click', showPrev);
    lbNext.addEventListener('click', showNext);
    lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });
    window.addEventListener('keydown', (e) => {
      if (lb.classList.contains('hidden')) return;
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') showPrev();
      if (e.key === 'ArrowRight') showNext();
    });

    // Sorting
    sortBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        currentSort = btn.dataset.sort;
        sortBtns.forEach(b => b.classList.toggle('bg-black/60', b===btn));
        sortBtns.forEach(b => b.classList.toggle('bg-black/30', b!==btn));
        items = sortItems(normalizeList(PHOTOS), currentSort);
        render();
      });
    });

    // Initialize
    items = sortItems(normalizeList(PHOTOS), currentSort);
    render();
  </script>
</body>
</html>
