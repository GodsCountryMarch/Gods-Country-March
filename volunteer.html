<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Volunteer — God’s Country March</title>
  <meta name="description" content="Sign up to volunteer for the God’s Country March. Help with outreach, setup, safety, media, and more." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html { scroll-behavior: smooth; }
    body { background: #0b1220; color: #e5e7eb; }
    .card { background: rgba(0,0,0,.82); border: 1px solid rgba(255,255,255,.1); }
    .field { width: 100%; padding: .75rem 1rem; border-radius: .5rem; background: #fff; color: #0f172a; outline: none; }
    .field:focus { box-shadow: 0 0 0 3px rgba(245, 158, 11, .45); }
    .label { font-size: .9rem; font-weight: 600; color: #e5e7eb; }
  </style>
</head>
<body>
   <!-- top nav -->
    <header class="fixed top-0 inset-x-0 z-50">
      <div class="mx-auto max-w-7xl px-4">
        <div class="mt-3 mb-2 flex justify-center">
          <nav class="w-full rounded-2xl bg-black/70 backdrop-blur text-white shadow ring-1 ring-white/10
                      px-3 sm:px-4 py-2 flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-[13px] sm:text-sm">
            <a href="index.html" class="hover:text-amber-400 underline">God’s Country March</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="mission.html" class="hover:text-amber-400">Mission &amp; Vision</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="sponsors.html" class="hover:text-amber-400">Sponsors &amp; Supporters</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="gallery.html" class="hover:text-amber-400">Photos</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="blog.html" class="hover:text-amber-400">Blog</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="volunteer.html" class="hover:text-amber-400">Volunteer</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="merch.html" class="hover:text-amber-400">Merch</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="https://donorbox.org/2025-gods-country-march" target="_blank" rel="noopener" class="hover:text-amber-400">Donate</a>
            <span class="hidden sm:inline opacity-40">•</span>
            <a href="index.html#rsvp" class="hover:text-amber-400">RSVP</a>
          </nav>
        </div>
      </div>
    </header>
    <div class="h-20"></div>

  <main class="mx-auto max-w-5xl px-4 py-10">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-white text-center">Sign Up to Volunteer</h1>
    <p class="mt-2 text-center text-slate-300 max-w-2xl mx-auto">
      We’ll follow up with details, team leads, and next steps.
    </p>

    <form action="https://formspree.io/f/xpwjvqyd" method="POST" class="mt-8 card rounded-2xl p-5 sm:p-6 lg:p-8">
      <input type="hidden" name="_subject" value="Volunteer Sign-up — God’s Country March" />

      <!-- Contact section -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="label">Full Name *</label>
          <input class="field" type="text" name="name" required placeholder="Your name" />
        </div>

        <div id="emailRow">
          <label class="label">Email *</label>
          <input id="emailInput" class="field" type="email" name="email" placeholder="you@example.com" />
        </div>

        <div id="phoneRow">
          <label class="label">Phone (optional)</label>
          <input id="phoneInput" class="field" type="tel" name="phone" placeholder="(555) 555-5555" />
        </div>

        <div>
          <label class="label">Preferred Contact</label>
          <select id="prefSelect" name="preferred_contact" class="field">
            <option value="Email" selected>Email</option>
            <option value="Phone">Phone</option>
          </select>
          <p id="prefHelp" class="mt-2 text-xs text-slate-400">We’ll use your email address to reach you.</p>
        </div>
      </div>

      <!-- Areas of Interest -->
      <div class="mt-6">
        <p class="label">Areas of Interest (choose all that apply)</p>
        <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 text-sm">
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_prayer" class="h-4 w-4"> Prayer Team</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_peacekeepers" class="h-4 w-4"> Peacekeepers</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_hospitality" class="h-4 w-4"> Hospitality</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_outreach" class="h-4 w-4"> Outreach &amp; Flyering</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_media" class="h-4 w-4"> Media &amp; Content</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_drivers" class="h-4 w-4"> Drivers</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_logistics" class="h-4 w-4"> Logistics &amp; Setup</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="interest_firstaid" class="h-4 w-4"> First Aid</label>
        </div>
      </div>

      <!-- Availability -->
      <div class="mt-6">
        <p class="label">Availability (select all that apply)</p>
        <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 text-sm">
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="avail_before" class="h-4 w-4"> Before event (outreach)</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="avail_dayof" class="h-4 w-4"> Day-of (setup)</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="avail_during" class="h-4 w-4"> During event</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="avail_after" class="h-4 w-4"> After event (teardown)</label>
        </div>
      </div>

      <!-- Group + Skills -->
      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="label">Group / Church Name (optional)</label>
          <input class="field" type="text" name="group" placeholder="If signing up as a group" />
        </div>
        <div>
          <label class="label">Relevant Skills (optional)</label>
          <input class="field" type="text" name="skills" placeholder="First aid, photography, public speaking, etc." />
        </div>
      </div>

      <!-- Can Bring -->
      <div class="mt-6">
        <p class="label">Can Bring (optional)</p>
        <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 text-sm">
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="bring_water" class="h-4 w-4"> Water cases</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="bring_sound" class="h-4 w-4"> Sound/PA gear</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="bring_other" class="h-4 w-4"> Other</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="bring_firstaidkit" class="h-4 w-4"> First aid kit</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox" name="bring_truck" class="h-4 w-4"> Truck/van</label>
        </div>
      </div>

      <!-- Notes -->
      <div class="mt-6">
        <label class="label">Anything we should know? (optional)</label>
        <textarea name="notes" rows="5" class="field" placeholder="Tell us more about how you’d like to help."></textarea>
      </div>

      <!-- Agreement -->
      <div class="mt-6 rounded-xl card p-4">
        <label class="inline-flex items-start gap-3 text-sm">
          <input type="checkbox" name="agree" required class="mt-1 h-4 w-4">
          <span>
            I agree to follow event leadership for safety and logistics. I agree to maintain professionalism, and to
            follow any <strong>lawful command by local law enforcement</strong>.
          </span>
        </label>
        <p class="mt-3 text-xs text-slate-400">
          Your info is used only for event coordination. We won’t share or sell your data.
        </p>
      </div>

      <!-- Submit -->
      <div class="mt-6 flex items-center gap-4 flex-wrap">
        <button id="submitBtn" type="submit"
                class="inline-flex items-center justify-center px-5 py-3 text-sm font-semibold rounded-xl
                       bg-amber-500 text-black hover:bg-amber-400 transition shadow">
          Submit Volunteer Form
        </button>

        <a href="mailto:GodsCountryMarch@gmail.com" class="text-sm underline text-slate-300 hover:text-white">
          Questions? Email us
        </a>
      </div>

      <!-- Status message -->
      <p id="form-status" class="mt-4 text-sm"></p>
    </form>
  </main>

  <!-- Toggle email/phone visibility -->
  <script>
    const prefSelect = document.getElementById('prefSelect');
    const prefHelp   = document.getElementById('prefHelp');
    const emailRow   = document.getElementById('emailRow');
    const phoneRow   = document.getElementById('phoneRow');
    const emailInput = document.getElementById('emailInput');
    const phoneInput = document.getElementById('phoneInput');

    function syncContactUI() {
      if (prefSelect.value === 'Phone') {
        phoneRow.classList.remove('hidden');
        emailRow.classList.add('hidden');
        phoneInput.required = true;
        emailInput.required = false;
        prefHelp.textContent = "We’ll use your phone number to reach you.";
      } else {
        emailRow.classList.remove('hidden');
        phoneRow.classList.add('hidden');
        emailInput.required = true;
        phoneInput.required = false;
        prefHelp.textContent = "We’ll use your email address to reach you.";
      }
    }
    syncContactUI();
    prefSelect.addEventListener('change', syncContactUI);
  </script>

  <!-- Prevent redirect + show inline status with spinner -->
  <script>
    const form = document.querySelector("form");
    const status = document.getElementById("form-status");
    const submitBtn = document.getElementById("submitBtn");
    let originalBtnText = submitBtn.innerHTML;

    form.addEventListener("submit", async function (e) {
      e.preventDefault();
      const data = new FormData(form);

      // Show spinner / disable button
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<svg class="animate-spin h-5 w-5 mr-2 text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a12 12 0 00-12 12h4z"></path></svg> Sending...';

      try {
        const res = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { 'Accept': 'application/json' }
        });

        if (res.ok) {
          status.textContent = "✅ Thanks for volunteering! We’ll be in touch soon.";
          status.className = "mt-4 text-sm text-green-400";
          form.reset();

          // Auto-hide after 6 seconds
          setTimeout(() => {
            status.textContent = "";
          }, 6000);
        } else {
          const out = await res.json().catch(() => ({}));
          status.textContent = out.errors ? out.errors.map(e => e.message).join(", ") : "Oops, something went wrong.";
          status.className = "mt-4 text-sm text-red-400";
        }
      } catch (err) {
        status.textContent = "Network error. Please try again.";
        status.className = "mt-4 text-sm text-red-400";
      } finally {
        // Reset button
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalBtnText;
      }
    });
  </script>
</body>
</html>
